:heading: {dv}

= Настройки соединений

Параметры внешних по отношению к Консоли настройки {dv} подключений к системам определяются отдельно от настроек системы {dv} и её компонентов, в которых используются данные подключения. Это позволяет применять одно соединение в настройках нескольких компонентов {dv}.

На странице настроек соединений администратор может создавать экземпляры соединений разных типов и задавать их параметры. Каждое соединение представлено своей карточкой.

.Настройки соединений
image::connections.png[Настройки соединений]

[#settings]
== Работа с соединениями

В верхней части страницы настроек соединений указывается адрес _{of-sett-serv}_. Адрес точки подключения к API _{of-sett-serv}_ предоставляется в диагностических целях. В _{sett-serv}_ содержатся все настройки {of-mc}. Адрес подключения к хранилищу -- единственное, что хранится в самой консоли.

[NOTE]
====
xref:admin:settings-storage-url.adoc[Изменить] адрес подключения к _{to-sett-serv}_ можно в xref:admin:config.adoc[конфигурационном файле] {of-mc}.
====

Кроме адреса хранилища на странице располагается перечень настроек соединений, для каждого соединения выделяется отдельная карточка.

Количество экземпляров соединений не ограничено. Настройки для каждого типа соединений соответствуют аналогичным настройкам шлюзов в Workflow.

Любое соединение можно `*Использовать по умолчанию*`, тогда при настройке _Службы {ws}_ для данного типа соединения будет автоматически использовано значение по умолчанию.

[#new]
== Создание соединений

.Чтобы создать новое соединение с {dv}:
include::partial$excerpts.adoc[tags=create]
+
.Добавить соединение с {dv}
image::add-dv-connection.png[Добавить соединение с {dv}]
+
****
Имя соединения::
Идентификатор соединения, который будет отображаться в карточке.

Адрес сервера::
Адрес сервера {dv}, к которому осуществляется подключение в формате `\http://Имя-сервера-Docsvision:Порт`. Например, `\http://docsvision.server.com:5000`.

База данных::
База данных, используемая в данном экземпляре соединения.

Логин::
Доменная учётная запись пользователя {dv}, от имени которой запускается служба {ws}. УЗ Должна быть включена в группу *{dv-sys-wf-dir}* в справочнике сотрудников. См. подробнее "xref:dev@workerservice::requirements-account.adoc[]".

Пароль::
Пароль учётной записи пользователя.
****
+
. Нажмите *Сохранить*, чтобы добавить новое соединение на страницу.
+
Новые соединения создаются в развёрнутом виде, чтобы уменьшить место, занимаемое соединением, нажмите кнопку image:buttons/collapse.png[Минимизировать] в правом верхнем углу карточки.

//NOTE: Если к правам учётной записи соединения предъявляется особые требования, это будет указано далее в инструкции по настройке системы {dv} и компонентов.

[#edit]
== Изменение соединений

После создания любое соединение можно изменить. Чтобы изменить соединение, отредактируйте параметры в доступных полях и нажмите кнопку *Применить*. Если кнопка *Применить* не нажата, настройки не будут сохранены.

При нажатии на кнопку появляется предупреждение `Вы уверены, что хотите применить настройки?`. После применения настроек необходим перезапуск процессов Службы {ws}, после чего потребуется вручную перезапустить *{wss-new}*.

[#delete]
== Удаление соединения

WARNING: Удаляемое соединение не должно использоваться в настройках сервисов и компонентов {dv}.

Соединения могут быть удалены. Чтобы удалить соединение, нажмите на кнопку image:buttons/black-urn.png[Чёрная урна] в правом верхнем углу соединения. Любой экземпляр соединения можно удалить. Тип соединения удалить нельзя.

При нажатии на кнопку image:buttons/black-urn.png[Чёрная урна] появляется диалог подтверждения удаления: `Соединение будет удалено, продолжить?`. Нажмите *ОК*, чтобы подтвердить удаление.
