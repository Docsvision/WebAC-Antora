= Подключение существующей БД

[WARNING]
====
Не изменяйте конфигурацию сателлитных БД при подключении существующей БД {dv}!
====

. Откройте страницу menu:Серверы[Имя-сервера > Сервер приложений > Базы данных] и нажмите кнопку *Подключить* под таблицей со списком подключенных БД, чтобы запустить Мастер БД {dv}.
+
.Мастер БД {dv}
image::dev@platform:admin:db-connect.png[Мастер БД {dv}]
+
. Укажите данные для подключения к СУБД. Нажмите *Далее*.
+
.Мастер БД {dv} в режиме подключения базы данных
image::dev@platform:admin:db-create-start.png[Мастер БД {dv} в режиме подключения базы данных]
+
--
include::partial$excerpts.adoc[tags=dbSettings]
--
+
. Укажите основные параметры БД:
+
****
include::partial$excerpts.adoc[tags=name]

include::partial$excerpts.adoc[tags=options]
****
+
. На следующей странице мастера нужно выбрать обновляемые библиотеки карточек модулей. По умолчанию будут выбраны все библиотеки, требующие обновления. Если необходимо, измените выбор и нажмите *Далее*, чтобы продолжить.
+
.Выбор модулей для обновления
image::dev@platform:admin:db-connect-update.png[Выбор модулей для обновления]
+
. Перезапустите службу *{sss-new}* командой:
+
 $ sudo systemctl restart dvappserver
+
. Подтвердите параметры подключения базы данных.
+
.Подтверждение параметров подключения БД
image::dev@platform:admin:db-connect-check.png[Подтверждение параметров подключения БД]
+
include::partial$excerpts.adoc[tags=atomic]
+
Если выбранная база данных была подключена или подключена сейчас к другому серверу {dv}, и лицензия {dv} не позволяет работать с одной БД одновременно нескольким серверам {dv}, при нажатии кнопки *Далее* появится диалоговое окно. В диалоговом окне будут предложены варианты отключения БД.
+
.Диалоговое окно "Внимание: параллельные серверы"
image::dev@platform:admin:parallel-servers.png[Диалоговое окно "Внимание: параллельные серверы"]
+
Нажмите на кнопку *Продолжить*, чтобы система автоматически отключила БД от других серверов {dv}. Данная процедура подразумевает, что БД будет xref:dev@platform:console:db-move.adoc[перемещена] (переключена) с одного сервера {dv} на другой.
+
. Нажмите кнопку *Старт*, чтобы подключить БД и дождитесь завершения загрузки SQL объектов.
. Дальнейшие шаги выполняются только если требуется обновление БД.
. Нажмите кнопку *Старт*, чтобы запустить обновление БД.
. Перезапустите службу *{sss-new}* командой:
+
 $ sudo systemctl restart dvappserver
+
. Нажмите *Далее*. Выберите модули {dv}, настройки которых должны быть загружены в БД и нажмите кнопку *Загрузить*.
+
.Выбор модулей для загрузки настроек в БД
image::dev@platform:admin:db-create-modules.png[Выбор модулей для загрузки настроек в БД]
+
Существующие в БД настройки загружаемых модулей будут перезаписаны.
+
. Предоставьте учётным записям сервисов {dv} xref:appserver-access.adoc[необходимые права], в т.ч. права на новую БД.
